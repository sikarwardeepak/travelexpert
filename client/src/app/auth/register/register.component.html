<div class="card">
  <div class="card-header">
    <h3>Register</h3>
  </div>
  <div class="card-body">
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div class="form-group mb-3">
        <label for="username">Username *</label>
        <input type="text" 
               class="form-control" 
               id="username" 
               formControlName="username"
               placeholder="Enter username"
               required>
        <div *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched" class="text-danger">
          Username is required and must be at least 3 characters long.
        </div>
      </div>
      
      <div class="form-group mb-3">
        <label for="email">Email address (optional)</label>
        <input type="email" 
               class="form-control" 
               id="email" 
               formControlName="email"
               placeholder="Enter email">
        <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="text-danger">
          Please enter a valid email address.
        </div>
      </div>
      
      <div class="form-group mb-3">
        <label for="password">Password *</label>
        <input type="password" 
               class="form-control" 
               id="password" 
               formControlName="password"
               placeholder="Enter password"
               required>
        <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="text-danger">
          Password is required and must be at least 6 characters long.
        </div>
      </div>
      
      <div class="form-group mb-4">
        <label for="confirmPassword">Confirm Password *</label>
        <input type="password" 
               class="form-control" 
               id="confirmPassword" 
               formControlName="confirmPassword"
               placeholder="Re-enter password"
               required>
        <div *ngIf="registerForm.hasError('mismatch') && registerForm.get('confirmPassword')?.touched" class="text-danger">
          Passwords do not match.
        </div>
      </div>

      <button type="submit" 
              class="btn btn-primary w-100" 
              [disabled]="!registerForm.valid">
        Register
      </button>
      <div *ngIf="errorMessage" class="text-danger mt-3">
        {{ errorMessage }}
      </div>
    </form>
  </div>
</div>